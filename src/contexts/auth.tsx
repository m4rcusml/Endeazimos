import { createContext, useContext, useState } from "react";

export type UserType = {
  picture?: string;
  name: string;
  email: string;
  phoneNumber: string;
  password: string;
}

interface AuthContextDataType {
  isLogged: boolean;
  user?: UserType;

  logIn(data: { email: string, password: string }): Promise<boolean>;
  signUp(data: UserType): Promise<boolean>;
}

const AuthContext = createContext<AuthContextDataType>({} as AuthContextDataType);

export function AuthProvider({ children }: { children: React.ReactNode }) {
  const [user, setUser] = useState<UserType>();

  async function logIn(data: { email: string, password: string }) {
    console.log('login => ', data);

    // dados de exemplo
    setUser({
      ...data,
      name: 'Antonio Lucas',
      phoneNumber: '(92) 99999-9999',
      picture: 'data:image/jpeg;base64,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'
    });

    return true;
  }

  async function signUp(data: UserType) {
    console.log('cadastro => ', data);

    return true;
  }

  return (
    <AuthContext.Provider
      value={{
        isLogged: !!user,
        user,
        logIn,
        signUp
      }}
    >
      {children}
    </AuthContext.Provider>
  )
}

export function useAuth() {
  try {
    const context = useContext(AuthContext);
    
    return context;
  } catch {
    throw new Error('Use esse hook somente dentro do AuthProvider');
  }
}